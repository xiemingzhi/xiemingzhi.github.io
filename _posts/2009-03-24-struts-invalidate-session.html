---
layout: post
title: Struts invalidate session
date: '2009-03-24T00:03:00.001-07:00'
author: bloggerming
tags:
- struts
modified_time: '2015-12-04T13:52:08.431-08:00'
blogger_id: tag:blogger.com,1999:blog-3711184356900467447.post-6135927423998458485
blogger_orig_url: http://technoming.blogspot.com/2009/03/struts-invalidate-session.html
---

Create a struts action - LogoutAction.java<br /><pre  style="font-family:arial;font-size:12px;border:1px dashed #CCCCCC;width:99%;height:auto;overflow:auto;background:#f0f0f0;;background-image:URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif);padding:0px;color:#000000;text-align:left;line-height:20px;"><code style="color:#000000;word-wrap:normal;"> package strutstest.actions;  <br /> import javax.servlet.http.HttpServletRequest;  <br /> import javax.servlet.http.HttpServletResponse;  <br /> import org.apache.struts.action.Action;  <br /> import org.apache.struts.action.ActionError;  <br /> import org.apache.struts.action.ActionErrors;  <br /> import org.apache.struts.action.ActionForm;  <br /> import org.apache.struts.action.ActionForward;  <br /> import org.apache.struts.action.ActionMapping;  <br /> /**  <br />  * @version 1.0  <br />  * @author  <br />  */  <br /> public class LogoutAction extends Action {  <br />      public ActionForward execute(ActionMapping mapping, ActionForm form,  <br />                HttpServletRequest request, HttpServletResponse response)  <br />                throws Exception {  <br />           ActionErrors errors = new ActionErrors();  <br />           ActionForward forward = new ActionForward(); // return value  <br />           try {  <br />                // do something here  <br />                request.getSession().invalidate();  <br />           } catch (Exception e) {  <br />                // Report the error using the appropriate name and ID.  <br />                errors.add("name", new ActionError("id"));  <br />           }  <br />           // If a message is required, save the specified key(s)  <br />           // into the request for use by the &lt;struts:errors&gt; tag.  <br />           if (!errors.isEmpty()) {  <br />                saveErrors(request, errors);  <br />                // Forward control to the appropriate 'failure' URI (change name as  <br />                // desired)  <br />                forward = mapping.findForward("failure");  <br />           } else {  <br />                // Forward control to the appropriate 'success' URI (change name as  <br />                // desired)  <br />                forward = mapping.findForward("success");  <br />           }  <br />           // Finish with  <br />           return (forward);  <br />      }  <br /> }  <br /></code></pre> <br />Add the action to struts-config.xml<br /><pre  style="font-family:arial;font-size:12px;border:1px dashed #CCCCCC;width:99%;height:auto;overflow:auto;background:#f0f0f0;;background-image:URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif);padding:0px;color:#000000;text-align:left;line-height:20px;"><code style="color:#000000;word-wrap:normal;"> &lt;action path="/logout" type="strutstest.actions.LogoutAction"&gt;  <br />      &lt;forward name="success" path="/logout.jsp"&gt;  <br />      &lt;/forward&gt;  <br />      &lt;forward name="failure" path="/error.jsp"&gt;  <br />      &lt;/forward&gt;  <br /> &lt;/action&gt;  <br /></code></pre><br />Add logout link to  jsp<br /><pre  style="font-family:arial;font-size:12px;border:1px dashed #CCCCCC;width:99%;height:auto;overflow:auto;background:#f0f0f0;;background-image:URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif);padding:0px;color:#000000;text-align:left;line-height:20px;"><code style="color:#000000;word-wrap:normal;"> &lt;html:link target="_self" page="/logout.do"&gt;logout&lt;/html:link&gt;  <br /></code></pre>
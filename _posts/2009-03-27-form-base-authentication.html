---
title: Programming java form base authentication
author: bloggerming
tags:
- programming
modified_time: '2015-12-03T06:15:07.010-08:00'
blogger_id: tag:blogger.com,1999:blog-3711184356900467447.post-1168917696060994339
blogger_orig_url: http://technoming.blogspot.com/2009/03/form-base-authentication.html
---

add security-constraint, login-config, security-role into  web.xml<br />&lt;security-constraint&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;  &lt;display-name&gt;securityconstraint&lt;/display-name&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;  &lt;web-resource-collection&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;  &lt;web-resource-name&gt;allthewebresource&lt;/web-resource-name&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;  &nbsp;&nbsp;&nbsp; &lt;description&gt;&lt;/description&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;  &lt;url-pattern&gt;/*&lt;/url-pattern&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;  &lt;/web-resource-collection&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;auth-constraint&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;  &nbsp;&nbsp;&nbsp; &lt;description&gt;&lt;/description&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;  &lt;role-name&gt;loginUser&lt;/role-name&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;  &lt;/auth-constraint&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/security-constraint&gt;<br />&nbsp;&nbsp;&nbsp;  &lt;login-config&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;  &lt;auth-method&gt;FORM&lt;/auth-method&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;  &lt;form-login-config&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;  &lt;form-login-page&gt;/form-base.jsp&lt;/form-login-page&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;  &lt;form-error-page&gt;/error.jsp&lt;/form-error-page&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;  &lt;/form-login-config&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/login-config&gt;<br />&nbsp;&nbsp;&nbsp;  &lt;security-role&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;description&gt;&lt;/description&gt;<br />&nbsp;&nbsp;&nbsp;  &nbsp;&nbsp;&nbsp; &lt;role-name&gt;loginUser&lt;/role-name&gt;<br />&nbsp;&nbsp;&nbsp;  &lt;/security-role&gt;<br /><br />create form-base.jsp<br />&lt;!DOCTYPE HTML PUBLIC  "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;<br />&lt;%@ taglib  uri="/WEB-INF/struts-html.tld" prefix="html" %&gt;<br />&lt;%@ taglib  uri="/WEB-INF/struts-bean.tld" prefix="bean"  %&gt;<br />&lt;html:html&gt;<br />&lt;HEAD&gt;<br />&lt;%@ page  <br />language="java"<br />contentType="text/html;  charset=UTF-8"<br />pageEncoding="UTF-8"<br />%&gt;<br />&lt;META  http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;<br />&lt;META  name="GENERATOR" content="IBM WebSphere Studio"&gt;<br />&lt;META  http-equiv="Content-Style-Type" content="text/css"&gt;<br />&lt;LINK  href="theme/Master.css" rel="stylesheet"<br />&nbsp;&nbsp;&nbsp;  type="text/css"&gt;<br />&lt;TITLE&gt;&lt;/TITLE&gt;<br />&lt;/HEAD&gt;<br /><br />&lt;BODY&gt;<br />&lt;P&gt;請將內容放在這裡。&lt;/P&gt;<br />&lt;form  method="POST" action="j_security_check"&gt;<br />username&lt;input type="text"  name="j_username"&gt;&lt;BR&gt;password<br />&lt;input type="password"  name="j_password"&gt;<br />&lt;BR&gt;<br />&lt;INPUT type="submit"  name="submit"&gt;&lt;INPUT type="reset" value="reset"&gt;&lt;/form&gt;  <br />&lt;/BODY&gt;<br />&lt;/html:html&gt;<br /><br />if using tomcat add role to  tomcat-users.xml<br />&lt;role rolename="loginUser"/&gt;<br />&lt;user  username="both" password="tomcat" roles="loginUser,tomcat,role1"/&gt;
---
title: Spring webservices part 2 jax-ws example
date: '2011-04-20T19:53:00.001-07:00'
author: bloggerming
tags:
- webservices
- spring
modified_time: '2015-06-04T05:46:59.709-07:00'
blogger_id: tag:blogger.com,1999:blog-3711184356900467447.post-6880783458240297760
blogger_orig_url: http://technoming.blogspot.com/2011/04/spring-webservices-part-2-jax-ws.html
---

This is a simple example of webservices using jax-ws spring component.<br />It is a contact application that allows you to store your addresses.<br />The webservice retrieves the list of contacts.<br /><br />web.xml<br /><pre  style="font-family:arial;font-size:12px;border:1px dashed #CCCCCC;width:99%;height:auto;overflow:auto;background:#f0f0f0;;background-image:URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif);padding:0px;color:#000000;text-align:left;line-height:20px;"><code style="color:#000000;word-wrap:normal;"> &lt;servlet&gt;  <br /> &lt;servlet-name&gt;jaxws-servlet&lt;/servlet-name&gt;  <br /> &lt;servlet-class&gt;com.sun.xml.ws.transport.http.servlet.WSSpringServlet&lt;/servlet-class&gt;  <br /> &lt;/servlet&gt;  <br /> &lt;servlet-mapping&gt;  <br /> &lt;servlet-name&gt;jaxws-servlet&lt;/servlet-name&gt;  <br /> &lt;url-pattern&gt;/ContactAppService&lt;/url-pattern&gt;  <br /> &lt;/servlet-mapping&gt;  <br /></code></pre>springwebapp-servlet.xml<br /><pre  style="font-family:arial;font-size:12px;border:1px dashed #CCCCCC;width:99%;height:auto;overflow:auto;background:#f0f0f0;;background-image:URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif);padding:0px;color:#000000;text-align:left;line-height:20px;"><code style="color:#000000;word-wrap:normal;"> &lt;!-- use component-scan and annotations --&gt;  <br /> &lt;context:component-scan base-package="com.mycompany" /&gt;  <br /> &lt;mvc:annotation-driven /&gt;  <br /></code></pre>applicationContext.xml<br />setup bean definitions use jax-ws spring components<br /><pre  style="font-family:arial;font-size:12px;border:1px dashed #CCCCCC;width:99%;height:auto;overflow:auto;background:#f0f0f0;;background-image:URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif);padding:0px;color:#000000;text-align:left;line-height:20px;"><code style="color:#000000;word-wrap:normal;"> &lt;beans xmlns:ws="http://jax-ws.dev.java.net/spring/core"&gt;http://jax-ws.dev.java.net/spring/core"  <br /> xmlns:wss="http://jax-ws.dev.java.net/spring/servlet"&gt;http://jax-ws.dev.java.net/spring/servlet"  <br /> xsi:schemaLocation="  <br /> http://jax-ws.dev.java.net/spring/core"&gt;http://jax-ws.dev.java.net/spring/core   <br /> http://jax-ws.dev.java.net/spring/core.xsd"&gt;http://jax-ws.dev.java.net/spring/core.xsd  <br /> http://jax-ws.dev.java.net/spring/servlet"&gt;http://jax-ws.dev.java.net/spring/servlet   <br /> http://jax-ws.dev.java.net/spring/servlet.xsd"&gt;http://jax-ws.dev.java.net/spring/servlet.xsd  <br /> "&gt;  <br /> &lt;bean id="simplecontactApp" class="com.mycompany.SimpleContactAppImpl"&gt;  <br /> &lt;property name="contactDao"&gt;  <br /> &lt;ref bean="contactDao" /&gt;  <br /> &lt;/property&gt;  <br /> &lt;/bean&gt;  <br /> &lt;bean id="wsLoggingHandler" class="com.mycompany.common.LoggingHandler"&gt;  <br /> &lt;/bean&gt;  <br /> &lt;wss:binding url="/ContactAppService"&gt;  <br /> &lt;wss:service&gt;  <br /> &lt;ws:service bean="#simplecontactApp"&gt;  <br /> &lt;ws:handlers&gt;  <br /> &lt;ref bean="wsLoggingHandler" /&gt;  <br /> &lt;/ws:handlers&gt;  <br /> &lt;/ws:service&gt;  <br /> &lt;/wss:service&gt;  <br /> &lt;/wss:binding&gt;  <br /> &lt;/beans&gt;  <br /></code></pre>java interface code<br />SimpleContactApp.java<br /><pre  style="font-family:arial;font-size:12px;border:1px dashed #CCCCCC;width:99%;height:auto;overflow:auto;background:#f0f0f0;;background-image:URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif);padding:0px;color:#000000;text-align:left;line-height:20px;"><code style="color:#000000;word-wrap:normal;"> package com.mycompany;  <br /> import javax.jws.WebResult;  <br /> import javax.jws.WebService;  <br /> import javax.jws.soap.SOAPBinding;  <br /> /**  <br /> * Exposing web services using JAX-WS  <br /> * @author ming  <br /> *  <br /> */  <br /> @WebService  <br /> @SOAPBinding(style = SOAPBinding.Style.RPC, use=SOAPBinding.Use.LITERAL)  <br /> public interface SimpleContactApp {  <br /> @WebResult(name="return")  <br /> public Contact getContact(String firstName);  <br /> public void insertAcontact(Contact contact);  <br /> public String sayHello();  <br /> }  <br /></code></pre>java implementation code<br />SimpleContactAppImpl.java<br /><pre  style="font-family:arial;font-size:12px;border:1px dashed #CCCCCC;width:99%;height:auto;overflow:auto;background:#f0f0f0;;background-image:URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif);padding:0px;color:#000000;text-align:left;line-height:20px;"><code style="color:#000000;word-wrap:normal;"> package com.mycompany;  <br /> import javax.jws.WebService;  <br /> import com.mycompany.dao.ContactDAO;  <br /> /**  <br /> * This is a simple webservice can be deployed along with a webapp  <br /> * remember to use simple data types  <br /> * webservices interoperability simple data types  <br /> * to access http://localhost:8080/ContactAppService?WSDL  <br /> * @author ming  <br /> *  <br /> */  <br /> @WebService(serviceName="ContactAppService", portName="ContactService",   <br /> endpointInterface = "com.mycompany.SimpleContactApp")  <br /> public class SimpleContactAppImpl implements SimpleContactApp {  <br /> private ContactDAO contactDao;  <br /> @Override  <br /> public Contact getContact(String firstName) {  <br /> return contactDao.getContact(1);  <br /> }  <br /> @Override  <br /> public void insertAcontact(Contact contact) {  <br /> contactDao.insertContact(contact);  <br /> }  <br /> public ContactDAO getContactDao() {  <br /> return contactDao;  <br /> }  <br /> public void setContactDao(ContactDAO contactDao) {  <br /> this.contactDao = contactDao;  <br /> }  <br /> @Override  <br /> public String sayHello() {  <br /> return "hello to you too";  <br /> }  <br /> }  <br /></code></pre>jars<br />Download the jax-ws reference implementation from <a href="http://java.net/">java.net</a>:<br /><a href="http://jax-ws.java.net/">http://jax-ws.java.net/</a><br />extract and get the jars<br />jaxb-api.jar (We use jaxb for the object to xml bindings.)<br />jaxb-impl.jar<br />jaxws-api.jar<br />jaxws-rt.jar<br />ha-api.jar<br />gmbal-api-only.jar<br />management-api.jar<br />policy.jar<br />stax-ex.jar<br />streambuffer.jar<br />xbean-spring-2.7.jar<br />(Include spring and hibernate and database jars.)<br />jaxws-spring-1.8.jar (Download from the jax-ws commons spring section)<br />Put all jars in WEB-INF/lib<br /><br />Simple Client App<br />ContactWebserviceClient<br /><pre  style="font-family:arial;font-size:12px;border:1px dashed #CCCCCC;width:99%;height:auto;overflow:auto;background:#f0f0f0;;background-image:URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif);padding:0px;color:#000000;text-align:left;line-height:20px;"><code style="color:#000000;word-wrap:normal;"> package com.mycompany.client;  <br /> import java.util.Collection;  <br /> import java.util.List;  <br /> import org.springframework.beans.BeansException;  <br /> import org.springframework.context.ApplicationContext;  <br /> import org.springframework.context.support.ClassPathXmlApplicationContext;  <br /> import com.mycompany.Contact;  <br /> import com.mycompany.SimpleContactApp;  <br /> public class ContactWebserviceClient {  <br /> private SimpleContactApp service;  <br /> /**  <br /> * @param args  <br /> */  <br /> public static void main(String[] args) {  <br /> try {  <br /> ApplicationContext ctx = new   <br /> ClassPathXmlApplicationContext("com/mycompany/client/contactclient.xml");  <br /> ContactWebserviceClient conapp = (ContactWebserviceClient)   <br /> ctx.getBean("client");  <br /> Contact ch = conapp.getService().getContact("contact1");  <br /> System.out.println((ch == null) ? "contact is null add some   <br /> test data" : "contact firstname " + ch.getFirstName());  <br /> System.out.println(conapp.getService().sayHello());  <br /> } catch (BeansException e) {  <br /> e.printStackTrace();  <br /> }  <br /> }  <br /> public SimpleContactApp getService() {  <br /> return service;  <br /> }  <br /> public void setService(SimpleContactApp service) {  <br /> this.service = service;  <br /> }  <br /> }  <br /></code></pre>With contactclient.xml<br /><pre  style="font-family:arial;font-size:12px;border:1px dashed #CCCCCC;width:99%;height:auto;overflow:auto;background:#f0f0f0;;background-image:URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif);padding:0px;color:#000000;text-align:left;line-height:20px;"><code style="color:#000000;word-wrap:normal;"> &lt;bean id="client" class="com.mycompany.client.ContactWebserviceClient"&gt;  <br /> &lt;property name="service" ref="contactAppWebService"/&gt;  <br /> &lt;/bean&gt;  <br /> &lt;bean id="contactAppWebService"   <br /> class="org.springframework.remoting.jaxws.JaxWsPortProxyFactoryBean"&gt;  <br /> &lt;property name="serviceInterface" value="com.mycompany.SimpleContactApp"/&gt;  <br /> &lt;property name="wsdlDocumentUrl"   <br /> value="http://localhost:8080/springwebapp/ContactAppService?WSDL"/&gt;  <br /> &lt;property name="namespaceUri" value="http://mycompany.com/"/&gt;  <br /> &lt;property name="serviceName" value="ContactAppService"/&gt;  <br /> &lt;property name="portName" value="ContactService"/&gt;  <br /> &lt;/bean&gt;  <br /></code></pre><br />